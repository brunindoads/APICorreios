<!-- views/index.ejs -->
<!DOCTYPE html>
<html lang="en">
    <%- include('./partials/header.ejs') %>
<body id="body-login">
    <div id="div-login">    
        <h1><%= title %></h1>
        <% if (error) { %>
            <p style="color: red;"><%= error %></p>
        <% } %>
        <form id="form-login"  action="/login" method="POST">
            <label for="username">Nome de Usuário:</label><br>
            <input type="text" id="username" name="username" required>
            <br><br>
            <label for="password">Senha:</label><br>
            <input type="password" id="password" name="password" required>
            <br><br>
            <button type="submit">Entrar</button>
        </form>
        <br><br>
        <p>Não tem uma conta? <br> 
            <a class="btn-back-modal" href="#" onclick="openSignupModal()">Cadastre-se</a>
        </p>
    </div>

    <!-- Modal para exibir o conteúdo do signup.ejs -->
    <div id="signupModal" class="modal">
        <div id="signupModalContent"></div>
    </div>

    <script>
        // Função para abrir o modal de cadastro
        async function openSignupModal() {
            try {
                // Carrega o conteúdo do arquivo signup.ejs usando fetch
                const response = await fetch('/signup-content');
                const content = await response.text();
    
                // Insere o conteúdo dentro do modal
                document.getElementById('signupModalContent').innerHTML = content;
    
                // Exibe o modal
                document.getElementById('signupModal').style.display = 'flex'; // Use 'flex' para cobrir toda a tela
            } catch (error) {
                console.error('Erro ao carregar o conteúdo do signup.ejs', error);
            }
        }
    </script>
    
</body>
</html>
